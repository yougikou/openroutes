# openroutes
推荐适合徒步旅行、骑自行车、散步等健康活动的路线，应该免费向所有人开放。

[![日本語](https://img.shields.io/badge/lang-日本語-green.svg)](./README.md)
[![中文](https://img.shields.io/badge/lang-中文-red.svg)](./README_ZH.md)

[演示网站](https://yougikou.github.io/openroutes/)

### 开发目的
因为喜欢接触自然，并为这类积极健康的爱好，需要各种安全且质量高的路线信息。虽然查看了多种服务，但对于那些需要付费的服务总是感到不满意……

如果信息是由徒步旅行用户收集的，那么应该免费提供。

### 目标“全免费”
- 尽可能使用免费服务构建无服务器服务（以Github为主）
- 尽可能保持功能的简单，容易技术升级
- 能够轻松搜索、分享徒步旅行、步行、骑行路线信息
- 即使没有人使用，也可以作为个人路线记录使用
- 由于本人主要是在日本的山谷，溪流的徒步记录，所以目前默认语言为日语，支持中文和英文

### GitHub 访问令牌
目前已改为在设置页面粘贴 GitHub 个人访问令牌（需要 `public_repo` 权限）的方式。未配置令牌时无法创建路线，浏览功能会使用未认证的 GitHub API（限制为 500 次/小时）。保存令牌后，请求额度提升至 5000 次/小时，并且可以提交路线。右上角的 GitHub 图标会在令牌可用时变为绿色。

### 开发TODO
由于刚刚开始，任务太多，现在先列出一些想到的
- 使用Github API扩展路线搜索和注册（目前基本通信已经实现，正在进行，演示网站使用MockData）
  - 将路线登记为Issue
  - 搜索Issue，然后在网站上显示路线信息
- 完善语言切换
- 路线搜索功能
  - 路线列表的自动加载（Expo - FlashList）
- 路线注册功能
  - 问题：没有API添加Issue的附件
  - 暂定解决方案：
    - 寻找临时保存GeoJson文件、图片文件的服务
      - imgur似乎不错，仅支持图片
      - 使用图像信息隐藏技术（steganography js），将GeoJson文本信息记录在上传的图片中（通过imgur api注册）
    - 使用Github WorkFlow提交至repo的Content下，并在相关Issue中添加附件链接
      - Issue的附件没有10MB的限制
      - 与静态S3等Issue附件不同，Repo可以进行适当管理，数据不会突然丢失
  - 其他，日期、距离、高度、过程时间的GPX,KML自动解析获取
    - 减少用户填写，能够展示路线记录数据内的有用信息
- 还需要不断对代码，组件不断提炼，提高维护性
- 使用Open Map服务进行路线地图绘制等...